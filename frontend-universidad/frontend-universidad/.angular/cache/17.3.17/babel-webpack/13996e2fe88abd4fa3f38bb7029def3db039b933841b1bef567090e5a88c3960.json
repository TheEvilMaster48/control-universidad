{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\nimport { FormsModule } from \"@angular/forms\";\nlet SubdecanoComponent = class SubdecanoComponent {\n  constructor(subdecanoService, router) {\n    this.subdecanoService = subdecanoService;\n    this.router = router;\n    this.subdecanos = [];\n    this.loading = false;\n    this.showForm = false;\n    this.editMode = false;\n    this.currentSubdecano = this.getEmptySubdecano();\n    this.editId = null;\n    this.message = \"\";\n    this.messageType = \"\";\n  }\n  ngOnInit() {\n    this.loadSubdecanos();\n  }\n  getEmptySubdecano() {\n    return {\n      nombre: \"\",\n      apellido: \"\",\n      correo: \"\",\n      codigoSubdecano: \"\",\n      facultad: \"\",\n      areaResponsabilidad: \"\",\n      titulo: \"\",\n      telefono: \"\",\n      oficina: \"\",\n      fechaInicio: \"\"\n    };\n  }\n  loadSubdecanos() {\n    this.loading = true;\n    this.subdecanoService.getAll().subscribe({\n      next: data => {\n        this.subdecanos = data;\n        this.loading = false;\n      },\n      error: error => {\n        console.error(\"Error al cargar subdecanos:\", error);\n        this.showMessage(\"Error al cargar subdecanos\", \"error\");\n        this.loading = false;\n      }\n    });\n  }\n  showCreateForm() {\n    this.showForm = true;\n    this.editMode = false;\n    this.currentSubdecano = this.getEmptySubdecano();\n    this.editId = null;\n  }\n  showEditForm(subdecano) {\n    this.showForm = true;\n    this.editMode = true;\n    this.editId = subdecano.id;\n    this.currentSubdecano = {\n      nombre: subdecano.nombre,\n      apellido: subdecano.apellido,\n      correo: subdecano.correo,\n      codigoSubdecano: subdecano.codigoSubdecano,\n      facultad: subdecano.facultad,\n      areaResponsabilidad: subdecano.areaResponsabilidad,\n      titulo: subdecano.titulo,\n      telefono: subdecano.telefono,\n      oficina: subdecano.oficina,\n      fechaInicio: subdecano.fechaInicio\n    };\n  }\n  hideForm() {\n    this.showForm = false;\n    this.editMode = false;\n    this.currentSubdecano = this.getEmptySubdecano();\n    this.editId = null;\n  }\n  onSubmit() {\n    if (!this.isFormValid()) {\n      this.showMessage(\"Por favor complete todos los campos obligatorios\", \"error\");\n      return;\n    }\n    this.loading = true;\n    if (this.editMode && this.editId) {\n      this.subdecanoService.update(this.editId, this.currentSubdecano).subscribe({\n        next: response => {\n          this.showMessage(\"Subdecano actualizado exitosamente\", \"success\");\n          this.loadSubdecanos();\n          this.hideForm();\n          this.loading = false;\n        },\n        error: error => {\n          console.error(\"Error al actualizar subdecano:\", error);\n          this.showMessage(\"Error al actualizar subdecano\", \"error\");\n          this.loading = false;\n        }\n      });\n    } else {\n      this.subdecanoService.create(this.currentSubdecano).subscribe({\n        next: response => {\n          this.showMessage(\"Subdecano creado exitosamente\", \"success\");\n          this.loadSubdecanos();\n          this.hideForm();\n          this.loading = false;\n        },\n        error: error => {\n          console.error(\"Error al crear subdecano:\", error);\n          this.showMessage(\"Error al crear subdecano\", \"error\");\n          this.loading = false;\n        }\n      });\n    }\n  }\n  deleteSubdecano(id) {\n    if (confirm(\"¿Está seguro de que desea eliminar este subdecano?\")) {\n      this.loading = true;\n      this.subdecanoService.delete(id).subscribe({\n        next: response => {\n          this.showMessage(\"Subdecano eliminado exitosamente\", \"success\");\n          this.loadSubdecanos();\n          this.loading = false;\n        },\n        error: error => {\n          console.error(\"Error al eliminar subdecano:\", error);\n          this.showMessage(\"Error al eliminar subdecano\", \"error\");\n          this.loading = false;\n        }\n      });\n    }\n  }\n  isFormValid() {\n    return !!(this.currentSubdecano.nombre && this.currentSubdecano.apellido && this.currentSubdecano.correo && this.currentSubdecano.codigoSubdecano && this.currentSubdecano.facultad && this.currentSubdecano.areaResponsabilidad);\n  }\n  showMessage(message, type) {\n    this.message = message;\n    this.messageType = type;\n    setTimeout(() => {\n      this.message = \"\";\n      this.messageType = \"\";\n    }, 5000);\n  }\n  goBack() {\n    this.router.navigate([\"/dashboard\"]);\n  }\n};\nSubdecanoComponent = __decorate([Component({\n  selector: \"app-subdecano\",\n  standalone: true,\n  imports: [CommonModule, FormsModule],\n  templateUrl: \"./subdecano.component.html\",\n  styleUrls: [\"./subdecano.component.css\"]\n})], SubdecanoComponent);\nexport { SubdecanoComponent };","map":{"version":3,"names":["Component","CommonModule","FormsModule","SubdecanoComponent","constructor","subdecanoService","router","subdecanos","loading","showForm","editMode","currentSubdecano","getEmptySubdecano","editId","message","messageType","ngOnInit","loadSubdecanos","nombre","apellido","correo","codigoSubdecano","facultad","areaResponsabilidad","titulo","telefono","oficina","fechaInicio","getAll","subscribe","next","data","error","console","showMessage","showCreateForm","showEditForm","subdecano","id","hideForm","onSubmit","isFormValid","update","response","create","deleteSubdecano","confirm","delete","type","setTimeout","goBack","navigate","__decorate","selector","standalone","imports","templateUrl","styleUrls"],"sources":["C:\\Users\\SantiagoGamer\\Downloads\\frontend-universidad\\src\\app\\components\\subdecano\\subdecano.component.ts"],"sourcesContent":["import { Component, type OnInit } from \"@angular/core\"\nimport { CommonModule } from \"@angular/common\"\nimport { FormsModule } from \"@angular/forms\"\nimport type { Router } from \"@angular/router\"\nimport type { SubdecanoService } from \"../../services/subdecano.service\"\nimport type { Subdecano, SubdecanoRequest } from \"../../models/subdecano.model\"\n\n@Component({\n  selector: \"app-subdecano\",\n  standalone: true,\n  imports: [CommonModule, FormsModule],\n  templateUrl: \"./subdecano.component.html\",\n  styleUrls: [\"./subdecano.component.css\"],\n})\nexport class SubdecanoComponent implements OnInit {\n  subdecanos: Subdecano[] = []\n  loading = false\n  showForm = false\n  editMode = false\n  currentSubdecano: SubdecanoRequest = this.getEmptySubdecano()\n  editId: number | null = null\n  message = \"\"\n  messageType = \"\"\n\n  constructor(\n    private subdecanoService: SubdecanoService,\n    private router: Router,\n  ) {}\n\n  ngOnInit(): void {\n    this.loadSubdecanos()\n  }\n\n  getEmptySubdecano(): SubdecanoRequest {\n    return {\n      nombre: \"\",\n      apellido: \"\",\n      correo: \"\",\n      codigoSubdecano: \"\",\n      facultad: \"\",\n      areaResponsabilidad: \"\",\n      titulo: \"\",\n      telefono: \"\",\n      oficina: \"\",\n      fechaInicio: \"\",\n    }\n  }\n\n  loadSubdecanos(): void {\n    this.loading = true\n    this.subdecanoService.getAll().subscribe({\n      next: (data) => {\n        this.subdecanos = data\n        this.loading = false\n      },\n      error: (error) => {\n        console.error(\"Error al cargar subdecanos:\", error)\n        this.showMessage(\"Error al cargar subdecanos\", \"error\")\n        this.loading = false\n      },\n    })\n  }\n\n  showCreateForm(): void {\n    this.showForm = true\n    this.editMode = false\n    this.currentSubdecano = this.getEmptySubdecano()\n    this.editId = null\n  }\n\n  showEditForm(subdecano: Subdecano): void {\n    this.showForm = true\n    this.editMode = true\n    this.editId = subdecano.id!\n    this.currentSubdecano = {\n      nombre: subdecano.nombre,\n      apellido: subdecano.apellido,\n      correo: subdecano.correo,\n      codigoSubdecano: subdecano.codigoSubdecano,\n      facultad: subdecano.facultad,\n      areaResponsabilidad: subdecano.areaResponsabilidad,\n      titulo: subdecano.titulo,\n      telefono: subdecano.telefono,\n      oficina: subdecano.oficina,\n      fechaInicio: subdecano.fechaInicio,\n    }\n  }\n\n  hideForm(): void {\n    this.showForm = false\n    this.editMode = false\n    this.currentSubdecano = this.getEmptySubdecano()\n    this.editId = null\n  }\n\n  onSubmit(): void {\n    if (!this.isFormValid()) {\n      this.showMessage(\"Por favor complete todos los campos obligatorios\", \"error\")\n      return\n    }\n\n    this.loading = true\n\n    if (this.editMode && this.editId) {\n      this.subdecanoService.update(this.editId, this.currentSubdecano).subscribe({\n        next: (response) => {\n          this.showMessage(\"Subdecano actualizado exitosamente\", \"success\")\n          this.loadSubdecanos()\n          this.hideForm()\n          this.loading = false\n        },\n        error: (error) => {\n          console.error(\"Error al actualizar subdecano:\", error)\n          this.showMessage(\"Error al actualizar subdecano\", \"error\")\n          this.loading = false\n        },\n      })\n    } else {\n      this.subdecanoService.create(this.currentSubdecano).subscribe({\n        next: (response) => {\n          this.showMessage(\"Subdecano creado exitosamente\", \"success\")\n          this.loadSubdecanos()\n          this.hideForm()\n          this.loading = false\n        },\n        error: (error) => {\n          console.error(\"Error al crear subdecano:\", error)\n          this.showMessage(\"Error al crear subdecano\", \"error\")\n          this.loading = false\n        },\n      })\n    }\n  }\n\n  deleteSubdecano(id: number): void {\n    if (confirm(\"¿Está seguro de que desea eliminar este subdecano?\")) {\n      this.loading = true\n      this.subdecanoService.delete(id).subscribe({\n        next: (response) => {\n          this.showMessage(\"Subdecano eliminado exitosamente\", \"success\")\n          this.loadSubdecanos()\n          this.loading = false\n        },\n        error: (error) => {\n          console.error(\"Error al eliminar subdecano:\", error)\n          this.showMessage(\"Error al eliminar subdecano\", \"error\")\n          this.loading = false\n        },\n      })\n    }\n  }\n\n  isFormValid(): boolean {\n    return !!(\n      this.currentSubdecano.nombre &&\n      this.currentSubdecano.apellido &&\n      this.currentSubdecano.correo &&\n      this.currentSubdecano.codigoSubdecano &&\n      this.currentSubdecano.facultad &&\n      this.currentSubdecano.areaResponsabilidad\n    )\n  }\n\n  showMessage(message: string, type: string): void {\n    this.message = message\n    this.messageType = type\n    setTimeout(() => {\n      this.message = \"\"\n      this.messageType = \"\"\n    }, 5000)\n  }\n\n  goBack(): void {\n    this.router.navigate([\"/dashboard\"])\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}