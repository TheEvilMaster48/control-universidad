{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\nimport { FormsModule } from \"@angular/forms\";\nlet DecanoComponent = class DecanoComponent {\n  constructor(decanoService, router) {\n    this.decanoService = decanoService;\n    this.router = router;\n    this.decanos = [];\n    this.loading = false;\n    this.showForm = false;\n    this.editMode = false;\n    this.currentDecano = this.getEmptyDecano();\n    this.editId = null;\n    this.message = \"\";\n    this.messageType = \"\";\n  }\n  ngOnInit() {\n    this.loadDecanos();\n  }\n  getEmptyDecano() {\n    return {\n      nombre: \"\",\n      apellido: \"\",\n      correo: \"\",\n      codigoDecano: \"\",\n      facultad: \"\",\n      titulo: \"\",\n      telefono: \"\",\n      oficina: \"\",\n      fechaInicio: \"\",\n      experienciaAcademica: \"\"\n    };\n  }\n  loadDecanos() {\n    this.loading = true;\n    this.decanoService.getAll().subscribe({\n      next: data => {\n        this.decanos = data;\n        this.loading = false;\n      },\n      error: error => {\n        console.error(\"Error al cargar decanos:\", error);\n        this.showMessage(\"Error al cargar decanos\", \"error\");\n        this.loading = false;\n      }\n    });\n  }\n  showCreateForm() {\n    this.showForm = true;\n    this.editMode = false;\n    this.currentDecano = this.getEmptyDecano();\n    this.editId = null;\n  }\n  showEditForm(decano) {\n    this.showForm = true;\n    this.editMode = true;\n    this.editId = decano.id;\n    this.currentDecano = {\n      nombre: decano.nombre,\n      apellido: decano.apellido,\n      correo: decano.correo,\n      codigoDecano: decano.codigoDecano,\n      facultad: decano.facultad,\n      titulo: decano.titulo,\n      telefono: decano.telefono,\n      oficina: decano.oficina,\n      fechaInicio: decano.fechaInicio,\n      experienciaAcademica: decano.experienciaAcademica\n    };\n  }\n  hideForm() {\n    this.showForm = false;\n    this.editMode = false;\n    this.currentDecano = this.getEmptyDecano();\n    this.editId = null;\n  }\n  onSubmit() {\n    if (!this.isFormValid()) {\n      this.showMessage(\"Por favor complete todos los campos obligatorios\", \"error\");\n      return;\n    }\n    this.loading = true;\n    if (this.editMode && this.editId) {\n      this.decanoService.update(this.editId, this.currentDecano).subscribe({\n        next: response => {\n          this.showMessage(\"Decano actualizado exitosamente\", \"success\");\n          this.loadDecanos();\n          this.hideForm();\n          this.loading = false;\n        },\n        error: error => {\n          console.error(\"Error al actualizar decano:\", error);\n          this.showMessage(\"Error al actualizar decano\", \"error\");\n          this.loading = false;\n        }\n      });\n    } else {\n      this.decanoService.create(this.currentDecano).subscribe({\n        next: response => {\n          this.showMessage(\"Decano creado exitosamente\", \"success\");\n          this.loadDecanos();\n          this.hideForm();\n          this.loading = false;\n        },\n        error: error => {\n          console.error(\"Error al crear decano:\", error);\n          this.showMessage(\"Error al crear decano\", \"error\");\n          this.loading = false;\n        }\n      });\n    }\n  }\n  deleteDecano(id) {\n    if (confirm(\"¿Está seguro de que desea eliminar este decano?\")) {\n      this.loading = true;\n      this.decanoService.delete(id).subscribe({\n        next: response => {\n          this.showMessage(\"Decano eliminado exitosamente\", \"success\");\n          this.loadDecanos();\n          this.loading = false;\n        },\n        error: error => {\n          console.error(\"Error al eliminar decano:\", error);\n          this.showMessage(\"Error al eliminar decano\", \"error\");\n          this.loading = false;\n        }\n      });\n    }\n  }\n  isFormValid() {\n    return !!(this.currentDecano.nombre && this.currentDecano.apellido && this.currentDecano.correo && this.currentDecano.codigoDecano && this.currentDecano.facultad);\n  }\n  showMessage(message, type) {\n    this.message = message;\n    this.messageType = type;\n    setTimeout(() => {\n      this.message = \"\";\n      this.messageType = \"\";\n    }, 5000);\n  }\n  goBack() {\n    this.router.navigate([\"/dashboard\"]);\n  }\n};\nDecanoComponent = __decorate([Component({\n  selector: \"app-decano\",\n  standalone: true,\n  imports: [CommonModule, FormsModule],\n  templateUrl: \"./decano.component.html\",\n  styleUrls: [\"./decano.component.css\"]\n})], DecanoComponent);\nexport { DecanoComponent };","map":{"version":3,"names":["Component","CommonModule","FormsModule","DecanoComponent","constructor","decanoService","router","decanos","loading","showForm","editMode","currentDecano","getEmptyDecano","editId","message","messageType","ngOnInit","loadDecanos","nombre","apellido","correo","codigoDecano","facultad","titulo","telefono","oficina","fechaInicio","experienciaAcademica","getAll","subscribe","next","data","error","console","showMessage","showCreateForm","showEditForm","decano","id","hideForm","onSubmit","isFormValid","update","response","create","deleteDecano","confirm","delete","type","setTimeout","goBack","navigate","__decorate","selector","standalone","imports","templateUrl","styleUrls"],"sources":["C:\\Users\\SantiagoGamer\\Downloads\\frontend-universidad\\src\\app\\components\\decano\\decano.component.ts"],"sourcesContent":["import { Component, type OnInit } from \"@angular/core\"\nimport { CommonModule } from \"@angular/common\"\nimport { FormsModule } from \"@angular/forms\"\nimport type { Router } from \"@angular/router\"\nimport type { DecanoService } from \"../../services/decano.service\"\nimport type { Decano, DecanoRequest } from \"../../models/decano.model\"\n\n@Component({\n  selector: \"app-decano\",\n  standalone: true,\n  imports: [CommonModule, FormsModule],\n  templateUrl: \"./decano.component.html\",\n  styleUrls: [\"./decano.component.css\"],\n})\nexport class DecanoComponent implements OnInit {\n  decanos: Decano[] = []\n  loading = false\n  showForm = false\n  editMode = false\n  currentDecano: DecanoRequest = this.getEmptyDecano()\n  editId: number | null = null\n  message = \"\"\n  messageType = \"\"\n\n  constructor(\n    private decanoService: DecanoService,\n    private router: Router,\n  ) {}\n\n  ngOnInit(): void {\n    this.loadDecanos()\n  }\n\n  getEmptyDecano(): DecanoRequest {\n    return {\n      nombre: \"\",\n      apellido: \"\",\n      correo: \"\",\n      codigoDecano: \"\",\n      facultad: \"\",\n      titulo: \"\",\n      telefono: \"\",\n      oficina: \"\",\n      fechaInicio: \"\",\n      experienciaAcademica: \"\",\n    }\n  }\n\n  loadDecanos(): void {\n    this.loading = true\n    this.decanoService.getAll().subscribe({\n      next: (data) => {\n        this.decanos = data\n        this.loading = false\n      },\n      error: (error) => {\n        console.error(\"Error al cargar decanos:\", error)\n        this.showMessage(\"Error al cargar decanos\", \"error\")\n        this.loading = false\n      },\n    })\n  }\n\n  showCreateForm(): void {\n    this.showForm = true\n    this.editMode = false\n    this.currentDecano = this.getEmptyDecano()\n    this.editId = null\n  }\n\n  showEditForm(decano: Decano): void {\n    this.showForm = true\n    this.editMode = true\n    this.editId = decano.id!\n    this.currentDecano = {\n      nombre: decano.nombre,\n      apellido: decano.apellido,\n      correo: decano.correo,\n      codigoDecano: decano.codigoDecano,\n      facultad: decano.facultad,\n      titulo: decano.titulo,\n      telefono: decano.telefono,\n      oficina: decano.oficina,\n      fechaInicio: decano.fechaInicio,\n      experienciaAcademica: decano.experienciaAcademica,\n    }\n  }\n\n  hideForm(): void {\n    this.showForm = false\n    this.editMode = false\n    this.currentDecano = this.getEmptyDecano()\n    this.editId = null\n  }\n\n  onSubmit(): void {\n    if (!this.isFormValid()) {\n      this.showMessage(\"Por favor complete todos los campos obligatorios\", \"error\")\n      return\n    }\n\n    this.loading = true\n\n    if (this.editMode && this.editId) {\n      this.decanoService.update(this.editId, this.currentDecano).subscribe({\n        next: (response) => {\n          this.showMessage(\"Decano actualizado exitosamente\", \"success\")\n          this.loadDecanos()\n          this.hideForm()\n          this.loading = false\n        },\n        error: (error) => {\n          console.error(\"Error al actualizar decano:\", error)\n          this.showMessage(\"Error al actualizar decano\", \"error\")\n          this.loading = false\n        },\n      })\n    } else {\n      this.decanoService.create(this.currentDecano).subscribe({\n        next: (response) => {\n          this.showMessage(\"Decano creado exitosamente\", \"success\")\n          this.loadDecanos()\n          this.hideForm()\n          this.loading = false\n        },\n        error: (error) => {\n          console.error(\"Error al crear decano:\", error)\n          this.showMessage(\"Error al crear decano\", \"error\")\n          this.loading = false\n        },\n      })\n    }\n  }\n\n  deleteDecano(id: number): void {\n    if (confirm(\"¿Está seguro de que desea eliminar este decano?\")) {\n      this.loading = true\n      this.decanoService.delete(id).subscribe({\n        next: (response) => {\n          this.showMessage(\"Decano eliminado exitosamente\", \"success\")\n          this.loadDecanos()\n          this.loading = false\n        },\n        error: (error) => {\n          console.error(\"Error al eliminar decano:\", error)\n          this.showMessage(\"Error al eliminar decano\", \"error\")\n          this.loading = false\n        },\n      })\n    }\n  }\n\n  isFormValid(): boolean {\n    return !!(\n      this.currentDecano.nombre &&\n      this.currentDecano.apellido &&\n      this.currentDecano.correo &&\n      this.currentDecano.codigoDecano &&\n      this.currentDecano.facultad\n    )\n  }\n\n  showMessage(message: string, type: string): void {\n    this.message = message\n    this.messageType = type\n    setTimeout(() => {\n      this.message = \"\"\n      this.messageType = \"\"\n    }, 5000)\n  }\n\n  goBack(): void {\n    this.router.navigate([\"/dashboard\"])\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAqB,eAAe;AACtD,SAASC,YAAY,QAAQ,iBAAiB;AAC9C,SAASC,WAAW,QAAQ,gBAAgB;AAYrC,IAAMC,eAAe,GAArB,MAAMA,eAAe;EAU1BC,YACUC,aAA4B,EAC5BC,MAAc;IADd,KAAAD,aAAa,GAAbA,aAAa;IACb,KAAAC,MAAM,GAANA,MAAM;IAXhB,KAAAC,OAAO,GAAa,EAAE;IACtB,KAAAC,OAAO,GAAG,KAAK;IACf,KAAAC,QAAQ,GAAG,KAAK;IAChB,KAAAC,QAAQ,GAAG,KAAK;IAChB,KAAAC,aAAa,GAAkB,IAAI,CAACC,cAAc,EAAE;IACpD,KAAAC,MAAM,GAAkB,IAAI;IAC5B,KAAAC,OAAO,GAAG,EAAE;IACZ,KAAAC,WAAW,GAAG,EAAE;EAKb;EAEHC,QAAQA,CAAA;IACN,IAAI,CAACC,WAAW,EAAE;EACpB;EAEAL,cAAcA,CAAA;IACZ,OAAO;MACLM,MAAM,EAAE,EAAE;MACVC,QAAQ,EAAE,EAAE;MACZC,MAAM,EAAE,EAAE;MACVC,YAAY,EAAE,EAAE;MAChBC,QAAQ,EAAE,EAAE;MACZC,MAAM,EAAE,EAAE;MACVC,QAAQ,EAAE,EAAE;MACZC,OAAO,EAAE,EAAE;MACXC,WAAW,EAAE,EAAE;MACfC,oBAAoB,EAAE;KACvB;EACH;EAEAV,WAAWA,CAAA;IACT,IAAI,CAACT,OAAO,GAAG,IAAI;IACnB,IAAI,CAACH,aAAa,CAACuB,MAAM,EAAE,CAACC,SAAS,CAAC;MACpCC,IAAI,EAAGC,IAAI,IAAI;QACb,IAAI,CAACxB,OAAO,GAAGwB,IAAI;QACnB,IAAI,CAACvB,OAAO,GAAG,KAAK;MACtB,CAAC;MACDwB,KAAK,EAAGA,KAAK,IAAI;QACfC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;QAChD,IAAI,CAACE,WAAW,CAAC,yBAAyB,EAAE,OAAO,CAAC;QACpD,IAAI,CAAC1B,OAAO,GAAG,KAAK;MACtB;KACD,CAAC;EACJ;EAEA2B,cAAcA,CAAA;IACZ,IAAI,CAAC1B,QAAQ,GAAG,IAAI;IACpB,IAAI,CAACC,QAAQ,GAAG,KAAK;IACrB,IAAI,CAACC,aAAa,GAAG,IAAI,CAACC,cAAc,EAAE;IAC1C,IAAI,CAACC,MAAM,GAAG,IAAI;EACpB;EAEAuB,YAAYA,CAACC,MAAc;IACzB,IAAI,CAAC5B,QAAQ,GAAG,IAAI;IACpB,IAAI,CAACC,QAAQ,GAAG,IAAI;IACpB,IAAI,CAACG,MAAM,GAAGwB,MAAM,CAACC,EAAG;IACxB,IAAI,CAAC3B,aAAa,GAAG;MACnBO,MAAM,EAAEmB,MAAM,CAACnB,MAAM;MACrBC,QAAQ,EAAEkB,MAAM,CAAClB,QAAQ;MACzBC,MAAM,EAAEiB,MAAM,CAACjB,MAAM;MACrBC,YAAY,EAAEgB,MAAM,CAAChB,YAAY;MACjCC,QAAQ,EAAEe,MAAM,CAACf,QAAQ;MACzBC,MAAM,EAAEc,MAAM,CAACd,MAAM;MACrBC,QAAQ,EAAEa,MAAM,CAACb,QAAQ;MACzBC,OAAO,EAAEY,MAAM,CAACZ,OAAO;MACvBC,WAAW,EAAEW,MAAM,CAACX,WAAW;MAC/BC,oBAAoB,EAAEU,MAAM,CAACV;KAC9B;EACH;EAEAY,QAAQA,CAAA;IACN,IAAI,CAAC9B,QAAQ,GAAG,KAAK;IACrB,IAAI,CAACC,QAAQ,GAAG,KAAK;IACrB,IAAI,CAACC,aAAa,GAAG,IAAI,CAACC,cAAc,EAAE;IAC1C,IAAI,CAACC,MAAM,GAAG,IAAI;EACpB;EAEA2B,QAAQA,CAAA;IACN,IAAI,CAAC,IAAI,CAACC,WAAW,EAAE,EAAE;MACvB,IAAI,CAACP,WAAW,CAAC,kDAAkD,EAAE,OAAO,CAAC;MAC7E;IACF;IAEA,IAAI,CAAC1B,OAAO,GAAG,IAAI;IAEnB,IAAI,IAAI,CAACE,QAAQ,IAAI,IAAI,CAACG,MAAM,EAAE;MAChC,IAAI,CAACR,aAAa,CAACqC,MAAM,CAAC,IAAI,CAAC7B,MAAM,EAAE,IAAI,CAACF,aAAa,CAAC,CAACkB,SAAS,CAAC;QACnEC,IAAI,EAAGa,QAAQ,IAAI;UACjB,IAAI,CAACT,WAAW,CAAC,iCAAiC,EAAE,SAAS,CAAC;UAC9D,IAAI,CAACjB,WAAW,EAAE;UAClB,IAAI,CAACsB,QAAQ,EAAE;UACf,IAAI,CAAC/B,OAAO,GAAG,KAAK;QACtB,CAAC;QACDwB,KAAK,EAAGA,KAAK,IAAI;UACfC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;UACnD,IAAI,CAACE,WAAW,CAAC,4BAA4B,EAAE,OAAO,CAAC;UACvD,IAAI,CAAC1B,OAAO,GAAG,KAAK;QACtB;OACD,CAAC;IACJ,CAAC,MAAM;MACL,IAAI,CAACH,aAAa,CAACuC,MAAM,CAAC,IAAI,CAACjC,aAAa,CAAC,CAACkB,SAAS,CAAC;QACtDC,IAAI,EAAGa,QAAQ,IAAI;UACjB,IAAI,CAACT,WAAW,CAAC,4BAA4B,EAAE,SAAS,CAAC;UACzD,IAAI,CAACjB,WAAW,EAAE;UAClB,IAAI,CAACsB,QAAQ,EAAE;UACf,IAAI,CAAC/B,OAAO,GAAG,KAAK;QACtB,CAAC;QACDwB,KAAK,EAAGA,KAAK,IAAI;UACfC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;UAC9C,IAAI,CAACE,WAAW,CAAC,uBAAuB,EAAE,OAAO,CAAC;UAClD,IAAI,CAAC1B,OAAO,GAAG,KAAK;QACtB;OACD,CAAC;IACJ;EACF;EAEAqC,YAAYA,CAACP,EAAU;IACrB,IAAIQ,OAAO,CAAC,iDAAiD,CAAC,EAAE;MAC9D,IAAI,CAACtC,OAAO,GAAG,IAAI;MACnB,IAAI,CAACH,aAAa,CAAC0C,MAAM,CAACT,EAAE,CAAC,CAACT,SAAS,CAAC;QACtCC,IAAI,EAAGa,QAAQ,IAAI;UACjB,IAAI,CAACT,WAAW,CAAC,+BAA+B,EAAE,SAAS,CAAC;UAC5D,IAAI,CAACjB,WAAW,EAAE;UAClB,IAAI,CAACT,OAAO,GAAG,KAAK;QACtB,CAAC;QACDwB,KAAK,EAAGA,KAAK,IAAI;UACfC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;UACjD,IAAI,CAACE,WAAW,CAAC,0BAA0B,EAAE,OAAO,CAAC;UACrD,IAAI,CAAC1B,OAAO,GAAG,KAAK;QACtB;OACD,CAAC;IACJ;EACF;EAEAiC,WAAWA,CAAA;IACT,OAAO,CAAC,EACN,IAAI,CAAC9B,aAAa,CAACO,MAAM,IACzB,IAAI,CAACP,aAAa,CAACQ,QAAQ,IAC3B,IAAI,CAACR,aAAa,CAACS,MAAM,IACzB,IAAI,CAACT,aAAa,CAACU,YAAY,IAC/B,IAAI,CAACV,aAAa,CAACW,QAAQ,CAC5B;EACH;EAEAY,WAAWA,CAACpB,OAAe,EAAEkC,IAAY;IACvC,IAAI,CAAClC,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACC,WAAW,GAAGiC,IAAI;IACvBC,UAAU,CAAC,MAAK;MACd,IAAI,CAACnC,OAAO,GAAG,EAAE;MACjB,IAAI,CAACC,WAAW,GAAG,EAAE;IACvB,CAAC,EAAE,IAAI,CAAC;EACV;EAEAmC,MAAMA,CAAA;IACJ,IAAI,CAAC5C,MAAM,CAAC6C,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC;EACtC;CACD;AAhKYhD,eAAe,GAAAiD,UAAA,EAP3BpD,SAAS,CAAC;EACTqD,QAAQ,EAAE,YAAY;EACtBC,UAAU,EAAE,IAAI;EAChBC,OAAO,EAAE,CAACtD,YAAY,EAAEC,WAAW,CAAC;EACpCsD,WAAW,EAAE,yBAAyB;EACtCC,SAAS,EAAE,CAAC,wBAAwB;CACrC,CAAC,C,EACWtD,eAAe,CAgK3B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}